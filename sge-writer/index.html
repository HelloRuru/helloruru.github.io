<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5">

  <!-- Primary Meta Tags -->
  <title>SEO文案升級攻略站 - 目標為 SGE</title>
  <meta name="title" content="SEO文案升級攻略站 - 目標為 SGE">
  <meta name="description" content="免費 SEO 文案升級工具，目標為 Google SGE（AI Overview）引用。H1 28字元檢測、關鍵字密度分析、支語小警察、AI 味檢測、即時 SEO 評分。">
  <meta name="keywords" content="SGE,AI Overview,SEO文案,關鍵字優化,內容行銷,Google搜尋,文案工具,支語檢測">
  <meta name="author" content="Kaoru Tsai">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://lab.helloruru.com/sge-writer/">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://lab.helloruru.com/sge-writer/">
  <meta property="og:title" content="SEO文案升級攻略站 - 目標為 SGE">
  <meta property="og:description" content="免費 SEO 文案升級工具，目標為 Google SGE（AI Overview）引用。">
  <meta property="og:image" content="https://lab.helloruru.com/sge-writer/icons/og-image.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:image:alt" content="SEO文案升級攻略站 — 目標為 SGE，免費 SEO 文案檢測">
  <meta property="og:locale" content="zh_TW">
  <meta property="og:site_name" content="SEO文案升級攻略站">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://lab.helloruru.com/sge-writer/">
  <meta name="twitter:title" content="SEO文案升級攻略站 - 目標為 SGE">
  <meta name="twitter:description" content="免費 SEO 文案升級工具，目標為 Google SGE（AI Overview）引用。">
  <meta name="twitter:image" content="https://lab.helloruru.com/sge-writer/icons/og-image.png">

  <!-- Favicon & App Icons -->
  <link rel="icon" type="image/svg+xml" href="icons/favicon.svg">
  <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#D4A5A5">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="SEO文案升級攻略站">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">

  <!-- Custom Fonts from lab CDN — Design System v1.7 -->
  <style>
    @font-face {
      font-family: 'GenSenRounded';
      src: url('https://lab.helloruru.com/fonts/GenSenRounded-Regular.woff2') format('woff2');
      font-weight: 400;
      font-display: swap;
    }
    @font-face {
      font-family: 'GenSenRounded';
      src: url('https://lab.helloruru.com/fonts/GenSenRounded-Medium.woff2') format('woff2');
      font-weight: 500;
      font-display: swap;
    }
    @font-face {
      font-family: 'GenSenRounded';
      src: url('https://lab.helloruru.com/fonts/GenSenRounded-Bold.woff2') format('woff2');
      font-weight: 700;
      font-display: swap;
    }
  </style>

  <!-- JSON-LD Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "SEO文案升級攻略站",
    "description": "免費 SEO 文案升級工具，目標為 Google SGE（AI Overview）引用。H1 28字元檢測、關鍵字密度分析、支語小警察、AI 味檢測、即時 SEO 評分。",
    "url": "https://lab.helloruru.com/sge-writer/",
    "applicationCategory": "UtilityApplication",
    "operatingSystem": "Web",
    "browserRequirements": "Requires JavaScript",
    "inLanguage": "zh-TW",
    "isAccessibleForFree": true,
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "TWD"
    },
    "author": {
      "@type": "Person",
      "name": "Kaoru Tsai",
      "email": "hello@helloruru.com"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Hello Ruru",
      "url": "https://helloruru.com"
    },
    "featureList": [
      "H1 28字元檢測",
      "關鍵字密度分析",
      "違規詞即時掃描",
      "SGE 評分卡",
      "SERP 預覽",
      "一鍵複製到 Google Docs"
    ]
  }
  </script>

  <!-- JSON-LD: FAQPage -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "什麼是 SGE / AI Overview？",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "SGE（Search Generative Experience）是 Google 在搜尋結果頂部顯示的 AI 生成摘要，現已更名為 AI Overview。當你的文章被 AI Overview 引用，能大幅提升網站曝光度與點擊率。"
        }
      },
      {
        "@type": "Question",
        "name": "SEO文案升級攻略站可以做什麼？",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "SEO文案升級攻略站提供 H1 標題 28 字元檢測、關鍵字密度分析、支語小警察（80+ 詞彙）、AI 味檢測、SGE 結構分析（0-100 分）等功能，幫助你撰寫更容易被 Google SGE（AI Overview）引用的內容。"
        }
      },
      {
        "@type": "Question",
        "name": "SEO文案升級攻略站是免費的嗎？",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "是的，SEO文案升級攻略站完全免費使用，不需要註冊帳號，打開網頁即可開始使用所有功能，包含 H1 檢測、關鍵字分析、支語檢測、AI 味檢測與 SGE 結構分析。"
        }
      },
      {
        "@type": "Question",
        "name": "H1 為什麼建議控制在 28 字元以內？",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Google 搜尋結果標題在手機版約顯示 28 個中文字元，超過的部分會被截斷。控制在 28 字元內能確保標題完整呈現，提升點擊率，也更容易被 AI Overview 引用。"
        }
      }
    ]
  }
  </script>

  <!-- JSON-LD: BreadcrumbList -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "Hello Ruru Lab",
        "item": "https://lab.helloruru.com"
      },
      {
        "@type": "ListItem",
        "position": 2,
        "name": "SEO文案升級攻略站",
        "item": "https://lab.helloruru.com/sge-writer/"
      }
    ]
  }
  </script>

  <!-- JSON-LD: HowTo -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "HowTo",
    "name": "如何使用 SEO文案升級攻略站優化文章內容",
    "description": "透過 SEO文案升級攻略站檢測並優化你的文章，目標為被 Google SGE（AI Overview）引用。",
    "totalTime": "PT5M",
    "step": [
      {
        "@type": "HowToStep",
        "position": 1,
        "name": "輸入標題與關鍵字",
        "text": "在 SEO文案升級攻略站中輸入你的文章 H1 標題和目標關鍵字，系統會即時檢測標題字元數是否符合 28 字元建議。"
      },
      {
        "@type": "HowToStep",
        "position": 2,
        "name": "貼上文案內容",
        "text": "將你的文章內容貼入編輯區，系統會自動進行關鍵字密度分析、違規詞掃描，並即時顯示 SGE 評分。"
      },
      {
        "@type": "HowToStep",
        "position": 3,
        "name": "根據建議優化文案",
        "text": "參考 SGE 評分卡的建議，調整關鍵字密度、修正違規詞彙、優化標題長度，直到評分達到理想分數。"
      }
    ]
  }
  </script>

  <!-- Base Styles -->
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/layout.css">
  <link rel="stylesheet" href="css/accessibility.css">

  <!-- Components -->
  <link rel="stylesheet" href="css/components/buttons.css">
  <link rel="stylesheet" href="css/components/cards.css">
  <link rel="stylesheet" href="css/components/adventure-map.css">
  <link rel="stylesheet" href="css/components/party.css">
  <link rel="stylesheet" href="css/components/dialog.css">
  <link rel="stylesheet" href="css/components/quest-form.css">
  <link rel="stylesheet" href="css/components/strategy.css">
  <link rel="stylesheet" href="css/components/fact-check.css">
  <link rel="stylesheet" href="css/components/quick-commands.css">
  <link rel="stylesheet" href="css/components/quick-input.css">
  <link rel="stylesheet" href="css/components/level.css">
  <link rel="stylesheet" href="css/components/mobile-tabs.css">
  <link rel="stylesheet" href="css/components/editor.css">
  <link rel="stylesheet" href="css/components/analysis.css">
  <link rel="stylesheet" href="css/components/modal.css">
  <link rel="stylesheet" href="css/components/toast.css">
  <link rel="stylesheet" href="css/components/animations.css">
  <link rel="stylesheet" href="css/components/faq.css">
  <link rel="stylesheet" href="css/components/zhiyu-police.css">
  <link rel="stylesheet" href="css/components/level-dialog.css">

  <!-- Responsive & Utilities -->
  <link rel="stylesheet" href="css/responsive.css">
  <link rel="stylesheet" href="css/utilities.css">

  <script src="https://lab.helloruru.com/shared/brand-header.js"></script>
</head>
<body>
  <div class="app-container">
    <hello-ruru-header title="SGE 文案助手"></hello-ruru-header>

    <!-- Header -->
    <header class="app-header">
      <div class="header-content">
        <div class="logo-section">
          <p class="app-subtitle">歡迎來到關鍵字優化大陸</p>
        </div>
        <div class="header-actions">
          <!-- View Mode Toggle -->
          <div class="view-toggle">
            <button class="toggle-btn active" data-view="quick" title="快速模式">
              <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
              </svg>
              快速
            </button>
            <button class="toggle-btn" data-view="detailed" title="詳細模式">
              <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="18" height="18" rx="2"/>
                <path d="M3 9h18M9 21V9"/>
              </svg>
              詳細
            </button>
          </div>
          <button class="btn-icon" id="theme-toggle" title="切換主題">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="5"/>
              <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
            </svg>
          </button>
          <button class="btn-secondary" id="reset-btn">
            <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/>
              <path d="M3 3v5h5"/>
            </svg>
            重置
          </button>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Left Panel: Dialog Guide -->
      <section class="panel panel-left">
        <!-- Progress Indicator -->
        <div class="progress-bar">
          <div class="progress-step active" data-step="1">
            <div class="step-dot"></div>
            <span class="step-label">引導</span>
          </div>
          <div class="progress-line"></div>
          <div class="progress-step" data-step="2">
            <div class="step-dot"></div>
            <span class="step-label">查核</span>
          </div>
          <div class="progress-line"></div>
          <div class="progress-step" data-step="3">
            <div class="step-dot"></div>
            <span class="step-label">撰寫</span>
          </div>
          <div class="progress-line"></div>
          <div class="progress-step" data-step="4">
            <div class="step-dot"></div>
            <span class="step-label">校對</span>
          </div>
        </div>

        <!-- Party Members Card -->
        <div class="card party-card">
          <div class="card-header">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
              <circle cx="9" cy="7" r="4"/>
              <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
              <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
            </svg>
            <h3>冒險小隊</h3>
          </div>
          <div class="party-members">
            <div class="member active" data-member="guide">
              <div class="member-avatar guide-avatar">
                <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M9 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"/>
                  <path d="M3 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2"/>
                  <path d="M16 11h6M19 8v6"/>
                </svg>
              </div>
              <div class="member-info">
                <span class="member-name" id="guide-name">伊歐</span>
                <span class="member-role">領航員</span>
                <span class="member-mood" id="guide-mood"></span>
              </div>
            </div>
            <div class="member" data-member="writer">
              <div class="member-avatar writer-avatar">
                <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M12 19l7-7 3 3-7 7-3-3z"/>
                  <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"/>
                  <path d="M2 2l7.586 7.586"/>
                  <circle cx="11" cy="11" r="2"/>
                </svg>
              </div>
              <div class="member-info">
                <span class="member-name" id="writer-name">哈皮</span>
                <span class="member-role">吟遊詩人</span>
                <span class="member-mood" id="writer-mood"></span>
              </div>
            </div>
            <div class="member" data-member="player">
              <div class="member-avatar player-avatar">
                <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                  <circle cx="12" cy="7" r="4"/>
                </svg>
              </div>
              <div class="member-info">
                <span class="member-name" id="player-name">BLUE</span>
                <span class="member-role">文案見習生</span>
                <span class="member-mood" id="player-mood"></span>
              </div>
            </div>
          </div>
          <div class="party-actions">
            <button class="btn-text customize-names-btn" id="customize-names">
              <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
              </svg>
              自訂夥伴名稱
            </button>
            <button class="btn-text manage-images-btn" id="manage-images">
              <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                <circle cx="8.5" cy="8.5" r="1.5"/>
                <polyline points="21 15 16 10 5 21"/>
              </svg>
              管理立繪
            </button>
          </div>
        </div>

        <!-- Dialog Area -->
        <div class="dialog-area" id="dialog-area">
          <!-- Step 1: Input Form -->
          <div class="dialog-step active" id="step-1">
            <div class="dialog-bubble guide-bubble">
              <div class="bubble-avatar">
                <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M9 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"/>
                  <path d="M3 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2"/>
                </svg>
              </div>
              <div class="bubble-content">
                <span class="bubble-name">伊歐</span>
                <p>嗨！<span class="player-name-display">BLUE</span>，歡迎來到文案大陸！</p>
                <p>讓我來確認這次冒險任務的細節，請填寫以下資訊：</p>
              </div>
            </div>

            <!-- 舊表單已隱藏，改用編輯器上方的快速輸入 -->
            <div class="dialog-bubble guide-bubble">
              <div class="bubble-avatar">
                <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M9 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"/>
                  <path d="M3 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2"/>
                </svg>
              </div>
              <div class="bubble-content">
                <span class="bubble-name">伊歐</span>
                <p>很好！現在你可以直接開始寫作了。</p>
                <p>💡 提示：在右側編輯器上方填寫 <strong>H1 標題</strong>、<strong>關鍵字</strong>和<strong>字數目標</strong>，然後直接開始打字，我會即時幫你分析！</p>
              </div>
            </div>

            <form class="quest-form" id="quest-form" style="display: none;">
              <div class="form-group">
                <label for="keyword">核心關鍵字</label>
                <input type="text" id="keyword" placeholder="例如：台北冷氣清洗">
              </div>
              <div class="form-group form-row">
                <div class="form-field">
                  <label for="word-min">字數區間</label>
                  <div class="input-group">
                    <input type="number" id="word-min" value="650" min="100" max="3000">
                    <span>-</span>
                    <input type="number" id="word-max" value="700" min="100" max="3000">
                    <span>字</span>
                  </div>
                </div>
              </div>
              <input type="text" id="source" style="display: none;">
              <input type="text" id="focus" style="display: none;">
              <button type="submit" class="btn-primary">下一步</button>
            </form>
          </div>

          <!-- Step 2: Strategy Selection (Socratic) -->
          <div class="dialog-step" id="step-2">
            <div class="dialog-bubble guide-bubble">
              <div class="bubble-avatar">
                <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M9 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"/>
                  <path d="M3 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2"/>
                </svg>
              </div>
              <div class="bubble-content">
                <span class="bubble-name">伊歐</span>
                <p>在開始冒險前，我想問你一個問題...</p>
              </div>
            </div>

            <div class="strategy-card">
              <h4>你的目標客群是？</h4>
              <div class="strategy-options">
                <button class="strategy-option" data-strategy="price">
                  <span class="option-badge">A</span>
                  <div class="option-content">
                    <span class="option-title">價格敏感型</span>
                    <span class="option-desc">強調 CP 值、優惠活動</span>
                  </div>
                </button>
                <button class="strategy-option" data-strategy="quality">
                  <span class="option-badge">B</span>
                  <div class="option-content">
                    <span class="option-title">品質追求型</span>
                    <span class="option-desc">強調專業、細節、品質</span>
                  </div>
                </button>
                <button class="strategy-option" data-strategy="auto">
                  <span class="option-badge">C</span>
                  <div class="option-content">
                    <span class="option-title">讓我決定</span>
                    <span class="option-desc">根據店家定位自動推薦</span>
                  </div>
                </button>
              </div>
              <div class="fairy-whisper">
                <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2">
                  <polygon points="13,2 3,14 12,14 11,22 21,10 12,10"/>
                </svg>
                <span>精靈呢喃：高單價服務建議選 B，更能突顯價值感</span>
              </div>
            </div>
          </div>

          <!-- Step 3: Fact Check -->
          <div class="dialog-step" id="step-3">
            <div class="goddess-revelation" id="goddess-card" style="display: none;">
              <div class="revelation-header">
                <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/>
                </svg>
                <span>女神啟示</span>
              </div>
              <p class="revelation-text" id="goddess-text"></p>
            </div>

            <div class="dialog-bubble guide-bubble">
              <div class="bubble-avatar">
                <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M9 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"/>
                  <path d="M3 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2"/>
                </svg>
              </div>
              <div class="bubble-content">
                <span class="bubble-name">伊歐</span>
                <p>我已經整理好任務資訊，請確認以下內容正確：</p>
              </div>
            </div>

            <div class="fact-check-card">
              <h4>
                <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M9 11l3 3L22 4"/>
                  <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>
                </svg>
                事實檢核單
              </h4>
              <ul class="fact-list" id="fact-list">
                <!-- Dynamically populated -->
              </ul>
              <div class="fact-actions">
                <button class="btn-secondary" id="back-to-step2">
                  <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                  </svg>
                  返回修正
                </button>
                <button class="btn-primary" id="confirm-facts">
                  確認 GO
                  <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M5 12h14M12 5l7 7-7 7"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>

          <!-- Step 4: Writing -->
          <div class="dialog-step" id="step-4">
            <div class="dialog-bubble writer-bubble">
              <div class="bubble-avatar">
                <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M12 19l7-7 3 3-7 7-3-3z"/>
                  <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"/>
                </svg>
              </div>
              <div class="bubble-content">
                <span class="bubble-name">哈皮</span>
                <p>交給我把這些資料變成動人的故事吧！</p>
                <p class="writing-status" id="writing-status">正在施展文案魔法...</p>
              </div>
            </div>

            <div class="quick-commands">
              <h4>快捷指令</h4>
              <div class="command-buttons">
                <button class="cmd-btn" data-cmd="rewrite">重寫</button>
                <button class="cmd-btn primary" data-cmd="copy">
                  <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                  </svg>
                  複製
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Level Progress -->
        <div class="level-card">
          <div class="level-header">
            <span class="level-badge">Lv.<span id="user-level">1</span></span>
            <span class="level-title" id="level-title">文案見習生</span>
          </div>
          <div class="exp-bar">
            <div class="exp-fill" id="exp-fill" style="width: 0%"></div>
          </div>
          <span class="exp-text">EXP: <span id="exp-current">0</span>/<span id="exp-max">100</span></span>
        </div>

        <!-- FAQ Knowledge Base -->
        <div class="faq-card">
          <button class="faq-toggle" id="faq-toggle">
            <div class="faq-toggle-header">
              <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/>
                <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                <path d="M12 17h.01"/>
              </svg>
              <span>💡 SEO 知識庫</span>
            </div>
            <svg class="chevron-icon" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
              <path d="m6 9 6 6 6-6"/>
            </svg>
          </button>

          <div class="faq-content" id="faq-content">
            <div class="faq-search">
              <input type="text" id="faq-search-input" placeholder="搜尋問題..." />
              <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"/>
                <path d="m21 21-4.35-4.35"/>
              </svg>
            </div>

            <div class="faq-list" id="faq-list">
              <!-- FAQ items will be dynamically generated -->
            </div>
          </div>
        </div>
      </section>

      <!-- Right Panel: Editor & Analysis -->
      <section class="panel panel-right">
        <!-- Tab Navigation (Mobile) -->
        <div class="mobile-tabs">
          <button class="tab-btn active" data-tab="editor">編輯器</button>
          <button class="tab-btn" data-tab="analysis">分析</button>
        </div>

        <!-- Editor Area -->
        <div class="editor-section tab-content active" data-tab="editor">
          <!-- Quick Input Area (GBA Style) -->
          <div class="quick-input-area">
            <div class="quick-input-group">
              <label for="h1-input">
                <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M4 12h8M4 18V6M12 18V6M17 12h3M21 18v-6"/>
                </svg>
                H1 標題
              </label>
              <input type="text" id="h1-input" placeholder="請輸入 H1 標題（28 字元內）" maxlength="50">
              <span class="char-counter" id="h1-char-count">0/28</span>
            </div>

            <div class="quick-input-row">
              <div class="quick-input-group small">
                <label for="keyword-quick">
                  <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"/>
                    <path d="m21 21-4.35-4.35"/>
                  </svg>
                  關鍵字
                </label>
                <input type="text" id="keyword-quick" placeholder="例如：台北冷氣清洗">
              </div>

              <div class="quick-input-group small">
                <label for="word-target">
                  <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                    <polyline points="14,2 14,8 20,8"/>
                  </svg>
                  字數目標
                </label>
                <div class="word-target-inputs">
                  <input type="number" id="word-min-quick" aria-label="字數最少" value="650" min="100" max="5000">
                  <span aria-hidden="true">-</span>
                  <input type="number" id="word-max-quick" aria-label="字數最多" value="700" min="100" max="5000">
                  <span>字</span>
                </div>
              </div>
            </div>
          </div>

          <div class="editor-toolbar">
            <button class="toolbar-btn" data-format="h1" title="H1 標題">H1</button>
            <button class="toolbar-btn" data-format="h2" title="H2 標題">H2</button>
            <button class="toolbar-btn" data-format="h3" title="H3 標題">H3</button>
            <div class="toolbar-divider"></div>
            <button class="toolbar-btn" data-format="bold" title="粗體">
              <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"/>
                <path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"/>
              </svg>
            </button>
            <button class="toolbar-btn" data-format="highlight" title="標註關鍵字">
              <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
                <path d="m9 11-6 6v3h9l3-3"/>
                <path d="m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4"/>
              </svg>
            </button>
            <div class="toolbar-divider"></div>
            <button class="toolbar-btn" data-format="table" title="插入表格">
              <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="18" height="18" rx="2"/>
                <path d="M3 9h18M3 15h18M9 3v18M15 3v18"/>
              </svg>
            </button>
          </div>

          <div class="editor-container">
            <div class="editor" id="editor" contenteditable="true" role="textbox" aria-label="文案編輯區" aria-multiline="true" data-placeholder="開始撰寫你的文案內容..."></div>
          </div>
        </div>

        <!-- Analysis Panel -->
        <div class="analysis-section tab-content" data-tab="analysis">
          <!-- SGE Score Card -->
          <div class="card score-card">
            <div class="score-header">
              <h3>SGE 分數</h3>
              <span class="score-value" id="sge-score">0</span>
              <span class="score-max">/100</span>
            </div>
            <div class="score-bar">
              <div class="score-fill" id="score-fill" style="width: 0%"></div>
            </div>
          </div>

          <!-- Check Items -->
          <div class="card check-card">
            <h3>檢查項目</h3>
            <ul class="check-list">
              <li class="check-item" data-check="h1">
                <span class="check-icon pending">
                  <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                  </svg>
                </span>
                <span class="check-label">H1 字元</span>
                <span class="check-value" id="h1-count">0/28</span>
              </li>
              <li class="check-item" data-check="wordcount">
                <span class="check-icon pending">
                  <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                  </svg>
                </span>
                <span class="check-label">字數達標</span>
                <span class="check-value" id="word-count">0/650-700</span>
              </li>
              <li class="check-item" data-check="keyword">
                <span class="check-icon pending">
                  <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                  </svg>
                </span>
                <span class="check-label">關鍵字</span>
                <span class="check-value" id="keyword-count">出現 0 次</span>
              </li>
              <li class="check-item" data-check="violation">
                <span class="check-icon pending">
                  <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                  </svg>
                </span>
                <span class="check-label">違規詞</span>
                <span class="check-value" id="violation-count">掃描中</span>
              </li>
              <li class="check-item" data-check="tone">
                <span class="check-icon pending">
                  <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                  </svg>
                </span>
                <span class="check-label">口語化</span>
                <span class="check-value" id="tone-status">檢測中</span>
              </li>
            </ul>
          </div>

          <!-- Violations Alert -->
          <div class="card violation-card" id="violation-card" style="display: none;">
            <div class="violation-header">
              <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                <line x1="12" y1="9" x2="12" y2="13"/>
                <line x1="12" y1="17" x2="12.01" y2="17"/>
              </svg>
              <h4>發現違規詞彙</h4>
            </div>
            <ul class="violation-list" id="violation-list">
              <!-- Dynamically populated -->
            </ul>
          </div>

          <!-- AI Taste Index Card -->
          <div class="card ai-taste-card">
            <div class="card-header">
              <h3>
                <span class="emoji-icon" id="ai-taste-emoji">🟡</span>
                AI 味指數
              </h3>
              <span class="ai-taste-value" id="ai-taste-score">50</span>
              <span class="ai-taste-max">/100</span>
            </div>
            <div class="ai-taste-bar">
              <div class="ai-taste-fill" id="ai-taste-fill" style="width: 50%"></div>
            </div>
            <p class="ai-taste-message" id="ai-taste-message">AI 與人類特徵參半</p>
            <details class="ai-taste-details">
              <summary>查看詳細分析</summary>
              <div class="ai-taste-breakdown">
                <div class="breakdown-section">
                  <h4>負面指標（越多越 AI）</h4>
                  <ul class="breakdown-list" id="ai-negative-list">
                    <!-- Dynamically populated -->
                  </ul>
                </div>
                <div class="breakdown-section">
                  <h4>正面指標（越多越人性化）</h4>
                  <ul class="breakdown-list" id="ai-positive-list">
                    <!-- Dynamically populated -->
                  </ul>
                </div>
              </div>
            </details>
          </div>

          <!-- SGE Structure Score Card -->
          <div class="card sge-structure-card">
            <div class="card-header">
              <h3>
                <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M4 6h16M4 12h16M4 18h16"/>
                </svg>
                SGE 結構分數
              </h3>
              <span class="sge-structure-value" id="sge-structure-score">0</span>
              <span class="sge-structure-max">/100</span>
            </div>
            <div class="sge-structure-bar">
              <div class="sge-structure-fill" id="sge-structure-fill" style="width: 0%"></div>
            </div>
            <ul class="sge-structure-list">
              <li class="sge-structure-item" id="sge-h2-item">
                <span class="structure-icon pending" id="sge-h2-icon">○</span>
                <span class="structure-label">H2 問句格式</span>
                <span class="structure-value" id="sge-h2-value">檢測中</span>
              </li>
              <li class="sge-structure-item" id="sge-direct-item">
                <span class="structure-icon pending" id="sge-direct-icon">○</span>
                <span class="structure-label">直接回答策略</span>
                <span class="structure-value" id="sge-direct-value">檢測中</span>
              </li>
              <li class="sge-structure-item" id="sge-info-item">
                <span class="structure-icon pending" id="sge-info-icon">○</span>
                <span class="structure-label">資訊增益</span>
                <span class="structure-value" id="sge-info-value">檢測中</span>
              </li>
              <li class="sge-structure-item" id="sge-social-item">
                <span class="structure-icon pending" id="sge-social-icon">○</span>
                <span class="structure-label">社會證明</span>
                <span class="structure-value" id="sge-social-value">檢測中</span>
              </li>
            </ul>
          </div>

          <!-- 支語小警察 Card -->
          <div class="zhiyu-police-card" id="zhiyu-police-card">
            <div class="zhiyu-police-header">
              <span class="zhiyu-police-badge">👮</span>
              <h3 class="zhiyu-police-title">支語小警察</h3>
              <span class="zhiyu-police-status safe" id="zhiyu-status">安全</span>
            </div>

            <!-- GBA 風格對話框 -->
            <div class="zhiyu-gba-dialog">
              <div class="zhiyu-dialog-avatar">
                <img src="icons/characters/player-default-1.png" alt="BLUE" id="zhiyu-avatar-img">
              </div>
              <div class="zhiyu-dialog-speaker">BLUE</div>
              <div class="zhiyu-dialog-text" id="zhiyu-dialog-text">
                哈囉！我會幫你檢查文案中有沒有大陸用語，讓內容更符合台灣讀者的語感～
              </div>
            </div>

            <!-- 檢測結果 -->
            <div class="zhiyu-police-result">
              <span class="zhiyu-police-result-icon">✅</span>
              <div class="zhiyu-police-result-text" id="zhiyu-result-text">
                目前沒有偵測到大陸用語，文案語感很在地！
              </div>
            </div>

            <!-- 違規列表（預設隱藏） -->
            <ul class="zhiyu-violations" id="zhiyu-violations" style="display: none;">
              <!-- 示範違規項目（實際使用時由 JS 動態產生） -->
              <li class="zhiyu-violation-item">
                <span class="zhiyu-violation-marker critical">!</span>
                <div class="zhiyu-violation-content">
                  <div class="zhiyu-violation-word">地铁</div>
                  <div class="zhiyu-violation-suggestion">建議改為：<strong>捷運</strong> 或 <strong>MRT</strong></div>
                  <div class="zhiyu-violation-reason">這是北京用語，台灣普遍使用「捷運」</div>
                </div>
              </li>
            </ul>

            <!-- 統計數據 -->
            <div class="zhiyu-stats">
              <div class="zhiyu-stat">
                <span class="zhiyu-stat-value" id="zhiyu-total">0</span>
                <span class="zhiyu-stat-label">檢測詞數</span>
              </div>
              <div class="zhiyu-stat">
                <span class="zhiyu-stat-value" id="zhiyu-violations-count">0</span>
                <span class="zhiyu-stat-label">發現違規</span>
              </div>
            </div>
          </div>

          <!-- Templates -->
          <div class="card templates-card">
            <h3>
              <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="7" height="7"/>
                <rect x="14" y="3" width="7" height="7"/>
                <rect x="14" y="14" width="7" height="7"/>
                <rect x="3" y="14" width="7" height="7"/>
              </svg>
              快速插入
            </h3>
            <div class="template-buttons">
              <button class="template-btn" data-template="table3x3">3×3 比較表</button>
              <button class="template-btn" data-template="review">Google 評論</button>
              <button class="template-btn" data-template="brand">品牌資訊</button>
              <button class="template-btn" data-template="disclaimer">法律聲明</button>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="app-footer">
      <p>© <span id="footer-year"></span> Kaoru Tsai. All Rights Reserved. | Contact: <a href="mailto:hello@helloruru.com">hello@helloruru.com</a></p>
      <p class="footer-art-notice">Character illustrations generated with AI (Nova Anime XL / AnythingXL, FAIPL-1.0-SD) and post-edited. Not for redistribution.</p>
    </footer>
  </div>

  <!-- Name Customization Modal -->
  <div class="modal" id="name-modal">
    <div class="modal-backdrop"></div>
    <div class="modal-content">
      <div class="modal-header">
        <h3>自訂冒險夥伴名稱</h3>
        <button class="modal-close" id="close-modal">
          <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"/>
            <line x1="6" y1="6" x2="18" y2="18"/>
          </svg>
        </button>
      </div>
      <form class="modal-form" id="name-form">
        <div class="form-group">
          <label for="custom-guide">領航員名稱</label>
          <input type="text" id="custom-guide" value="伊歐" maxlength="10">
        </div>
        <div class="form-group">
          <label for="custom-writer">吟遊詩人名稱</label>
          <input type="text" id="custom-writer" value="哈皮" maxlength="10">
        </div>
        <div class="form-group">
          <label for="custom-player">你的名稱</label>
          <input type="text" id="custom-player" value="BLUE" maxlength="10">
        </div>
        <div class="modal-actions">
          <button type="button" class="btn-secondary" id="cancel-names">取消</button>
          <button type="submit" class="btn-primary">儲存</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Image Management Modal -->
  <div class="modal" id="image-modal">
    <div class="modal-backdrop"></div>
    <div class="modal-content image-modal-content">
      <div class="modal-header">
        <h3>角色立繪管理</h3>
        <button class="modal-close" id="close-image-modal">
          <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"/>
            <line x1="6" y1="6" x2="18" y2="18"/>
          </svg>
        </button>
      </div>
      <div class="image-modal-body" id="image-modal-body">
        <!-- JS 動態生成：3 角色 × 5 表情 × 4 變體 + 其他區 -->
      </div>
    </div>
  </div>

  <!-- Level Up Dialog Modal (GBA Style) -->
  <div class="level-dialog-modal" id="level-dialog-modal">
    <div class="level-dialog-backdrop"></div>
    <div class="level-dialog-box">
      <div class="level-dialog-header">
        <span class="level-dialog-badge">LEVEL UP!</span>
        <span class="level-dialog-level-badge" id="level-dialog-level">Lv.2</span>
      </div>
      <div class="level-dialog-avatar" id="level-dialog-avatar">
        <img src="icons/characters/guide-joy-1.png" alt="角色立繪">
      </div>
      <div class="level-dialog-speaker" id="level-dialog-speaker"></div>
      <div class="level-dialog-text" id="level-dialog-text"></div>
      <div class="level-dialog-reward" id="level-dialog-reward"></div>
      <button class="level-dialog-continue" id="level-dialog-continue">▶ 繼續</button>
    </div>
  </div>

  <!-- Toast Container -->
  <div class="toast-container" id="toast-container"></div>

  <script src="js/app.js" type="module"></script>

  <!-- Service Worker Registration -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sge-writer/sw.js')
          .then((registration) => {
            console.log('SW registered:', registration.scope);
          })
          .catch((error) => {
            console.log('SW registration failed:', error);
          });
      });
    }
  </script>
</body>
</html>
