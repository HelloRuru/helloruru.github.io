<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- SEO -->
  <title>SEO Quest — 互動式 SEO 學習工具</title>
  <meta name="description" content="用 RPG 冒險的方式學習 SEO！三位角色帶你從零開始掌握關鍵字優化、標題撰寫、段落結構等實戰技巧。">
  <link rel="canonical" href="https://lab.helloruru.com/seo-quest/">

  <!-- OG -->
  <meta property="og:title" content="SEO Quest — 互動式 SEO 學習工具">
  <meta property="og:description" content="用 RPG 冒險的方式學習 SEO！三位角色帶你掌握實戰技巧。">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://lab.helloruru.com/seo-quest/">
  <meta property="og:locale" content="zh_TW">

  <!-- Favicon -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23D4A5A5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><circle cx='12' cy='12' r='10'/><polygon points='16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88' fill='%23D4A5A5' stroke='none'/></svg>">

  <!-- Font Preload -->
  <link rel="preload" href="https://lab.helloruru.com/fonts/GenSenRounded-Medium.woff2" as="font" type="font/woff2" crossorigin>

  <!-- CSS -->
  <link rel="stylesheet" href="css/style.css">

  <!-- JSON-LD -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "SEO Quest",
    "description": "互動式 SEO 學習工具，用 RPG 冒險的方式學習搜尋引擎優化",
    "url": "https://lab.helloruru.com/seo-quest/",
    "applicationCategory": "EducationalApplication",
    "operatingSystem": "Web Browser",
    "author": {
      "@type": "Person",
      "name": "Kaoru Tsai"
    }
  }
  </script>
</head>
<body>

  <!-- 資源載入畫面 -->
  <div class="resource-loader-overlay" id="loader">
    <div class="resource-loader-content">
      <div class="loader-logo"><svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88" fill="currentColor" stroke="none"/></svg></div>
      <div class="loader-title">SEO Quest</div>
      <div class="loader-progress-bar">
        <div class="loader-progress-fill" id="loader-progress"></div>
      </div>
      <div class="loader-status" id="loader-status">正在載入資源<span class="loader-dots"></span></div>
      <div class="loader-percentage" id="loader-percent">0%</div>
      <div class="loader-hint">三位領航員正在為你準備學習航道</div>
    </div>
  </div>

  <!-- 開場序列覆蓋層（王道穿越）-->
  <div class="opening-overlay" id="opening-overlay" role="dialog" aria-label="開場序列" aria-modal="true">
    <!-- 場景背景層 -->
    <div class="opening-scene" aria-hidden="true"></div>

    <!-- 對話框容器 -->
    <div class="opening-dialogue-container">
      <!-- 對話框 -->
      <div class="opening-dialogue-box" role="status" aria-live="polite">
        <div class="opening-speaker"></div>
        <div class="opening-text"></div>
      </div>

      <!-- 名字輸入 -->
      <div class="opening-name-input">
        <label for="opening-player-name" class="sr-only">你的名字</label>
        <input type="text" id="opening-player-name" placeholder="請輸入你的名字" maxlength="20" autocomplete="off" />
      </div>

      <!-- 傳統 RPG 控制按鈕 -->
      <div class="opening-controls" role="navigation" aria-label="對話控制">
        <button class="opening-prev-button" aria-label="上一頁">← 上一頁</button>
        <button class="opening-log-button" aria-label="開啟對話記錄">LOG</button>
        <button class="opening-next-button" aria-label="下一頁">下一頁 →</button>
      </div>
    </div>

    <!-- 跳過按鈕（開發測試用）-->
    <button class="opening-skip-button" onclick="window.skipOpening()">
      跳過開場 (Dev)
    </button>
  </div>

  <!-- 對話 LOG 覆蓋層 -->
  <div class="opening-log-overlay" role="dialog" aria-label="對話記錄" aria-modal="true">
    <div class="opening-log-content">
      <div class="opening-log-header">
        <h2 class="opening-log-title">對話記錄</h2>
        <button class="opening-log-close" aria-label="關閉對話記錄">✕ 關閉</button>
      </div>
      <!-- LOG 內容將由 JavaScript 動態填充 -->
    </div>
  </div>

  <!-- 主應用 -->
  <div id="app" class="app-wrapper" style="display:none;">

    <!-- Header -->
    <header class="app-header">
      <div class="container flex-between">
        <div class="app-logo flex" style="gap:var(--spacing-sm);align-items:center;">
          <span style="display:inline-flex;color:var(--color-primary);"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88" fill="currentColor" stroke="none"/></svg></span>
          <span class="h4" style="margin:0;">SEO Quest</span>
        </div>
        <div id="header-right" class="flex" style="gap:var(--spacing-md);align-items:center;">
          <!-- 等級徽章（進入教學模式後顯示） -->
        </div>
      </div>
    </header>

    <!-- 主內容區 -->
    <main class="app-main">
      <div class="container">

        <!-- 模式選擇畫面 -->
        <section id="view-mode-select" class="mode-switch-container">
          <h1 class="mode-switch-title">選擇你的冒險方式</h1>
          <p class="mode-switch-description">無論你是 SEO 新手還是老手，都能找到適合的學習路徑。</p>
          <div class="mode-buttons">
            <button class="mode-button" data-mode="tutorial">
              <div class="mode-button-icon" style="color:var(--color-primary);"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg></div>
              <div class="mode-button-title">教學模式</div>
              <div class="mode-button-description">跟著三位角色一起冒險，從零開始學習 SEO。包含劇情、實作練習和評分系統。</div>
            </button>
            <button class="mode-button" data-mode="tool">
              <div class="mode-button-icon" style="color:var(--color-secondary);"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg></div>
              <div class="mode-button-title">工具模式</div>
              <div class="mode-button-description">直接使用 SEO 分析工具，快速檢查文案的關鍵字密度、結構和可讀性。</div>
            </button>
          </div>
        </section>

        <!-- 關卡地圖 -->
        <section id="view-level-map" class="level-map" style="display:none;"></section>

        <!-- 五階段遊戲區 -->
        <section id="view-phase" class="phase-container" style="display:none;" role="region" aria-label="遊戲內容區" aria-live="polite"></section>

        <!-- 工具模式 -->
        <section id="view-tool" style="display:none;">
          <button class="back-button" data-back="mode-select" aria-label="返回模式選擇">← 返回</button>
          <div class="phase-content text-center" style="padding:var(--spacing-3xl);">
            <p class="h3" style="margin-bottom:var(--spacing-md);display:flex;align-items:center;justify-content:center;gap:0.5rem;"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg> 工具模式開發中</p>
            <p class="lead">此功能即將推出，敬請期待。</p>
          </div>
        </section>

      </div>
    </main>

    <!-- Footer -->
    <footer class="app-footer">
      <div class="container">
        <p style="margin:0;">SEO Quest &copy; 2026 <span style="color:#ccc;">|</span> <a href="https://kaorutsai.com" target="_blank" rel="noopener">Kaoru Tsai</a></p>
        <p style="margin:0.5rem 0 0 0; font-size:0.8rem; color:#999;">
          場景圖使用 AI 輔助創作並經人工編輯 <span style="color:#ccc;">|</span>
          <a href="javascript:void(0)" onclick="window.openCredits()" style="color:#D4A574; text-decoration:none;">Credits</a>
        </p>
      </div>
    </footer>

  </div>

  <!-- Credits Modal -->
  <div id="credits-modal" class="credits-modal" role="dialog" aria-modal="true" aria-label="Credits 關於">
    <div class="credits-modal-content">
      <button class="credits-close" aria-label="關閉 Credits" onclick="window.closeCredits()">&times;</button>

      <h2 style="text-align:center; color:#3D2817; margin-bottom:2rem;">SEO Quest - Credits</h2>

      <div class="credits-section">
        <h3 style="color:#D4A574; font-size:1.2rem; margin-bottom:0.5rem; display:flex; align-items:center; gap:0.5rem;"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/></svg> 企劃 · 劇本</h3>
        <p style="margin:0.3rem 0; color:#333;">HelloRuru</p>
      </div>

      <div class="credits-section">
        <h3 style="color:#D4A574; font-size:1.2rem; margin-bottom:0.5rem; display:flex; align-items:center; gap:0.5rem;"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="13.5" cy="6.5" r=".5" fill="currentColor"/><circle cx="17.5" cy="10.5" r=".5" fill="currentColor"/><circle cx="8.5" cy="7.5" r=".5" fill="currentColor"/><circle cx="6.5" cy="12.5" r=".5" fill="currentColor"/><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"/></svg> 場景美術</h3>
        <p style="margin:0.3rem 0; color:#333;">AI 輔助創作 + 人工編輯</p>
        <p style="font-size:0.9rem; color:#666; margin-top:0.5rem; line-height:1.6;">
          本遊戲使用 AI 工具輔助場景圖創作，<br>
          並經過人工編輯與後製處理。
        </p>
      </div>

      <div class="credits-section">
        <h3 style="color:#D4A574; font-size:1.2rem; margin-bottom:0.5rem; display:flex; align-items:center; gap:0.5rem;"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg> 角色設定</h3>
        <p style="margin:0.3rem 0; color:#333;">伊歐 / BLUE / 哈皮</p>
      </div>

      <div class="credits-section">
        <h3 style="color:#D4A574; font-size:1.2rem; margin-bottom:0.5rem; display:flex; align-items:center; gap:0.5rem;"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg> 程式開發</h3>
        <p style="margin:0.3rem 0; color:#333;">HelloRuru</p>
      </div>

      <div style="text-align:center; margin-top:2rem; padding-top:1rem; border-top:2px solid #D4A574;">
        <p style="margin:0.5rem 0; color:#666;">© 2026 HelloRuru | SEO Quest</p>
        <p style="font-size:0.85rem; font-style:italic; color:#999;">
          感謝開源 AI 社群讓獨立開發成為可能 <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#B8A9C9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align:-1px;"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
        </p>
      </div>
    </div>
  </div>

  <!-- Credits Modal CSS -->
  <style>
  .credits-modal {
    position: fixed;
    z-index: 10000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
  }

  .credits-modal-content {
    background-color: #fff;
    margin: 5% auto;
    padding: 2rem;
    border: 3px solid #3D2817;
    border-radius: 12px;
    width: 90%;
    max-width: 600px;
    max-height: 80vh;
    overflow-y: auto;
    position: relative;
  }

  .credits-close {
    color: #aaa;
    position: absolute;
    top: 0.75rem;
    right: 0.75rem;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
    line-height: 1;
    min-width: 44px;
    min-height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    border: none;
    background: none;
    border-radius: 8px;
  }

  .credits-close:hover,
  .credits-close:focus {
    color: #000;
    background: rgba(0, 0, 0, 0.05);
  }

  .credits-close:active {
    color: #000;
    background: rgba(0, 0, 0, 0.1);
    transform: scale(0.92);
  }

  .credits-close:focus-visible {
    outline: 3px solid #D4A574;
    outline-offset: 2px;
  }

  .credits-section {
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid #eee;
  }

  .credits-section:last-of-type {
    border-bottom: none;
  }

  /* 點擊外部關閉 */
  .credits-modal {
    cursor: pointer;
    overscroll-behavior: contain;
  }

  .credits-modal-content {
    cursor: default;
  }

  /* Fade-in 動畫 */
  .credits-modal {
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.25s ease, visibility 0.25s ease;
  }

  .credits-modal.active {
    opacity: 1;
    visibility: visible;
  }

  .credits-modal-content {
    transform: translateY(20px);
    transition: transform 0.25s ease;
  }

  .credits-modal.active .credits-modal-content {
    transform: translateY(0);
  }

  /* 響應式 — Tablet */
  @media (max-width: 768px) {
    .credits-modal-content {
      margin: 10% auto;
      padding: 1.5rem;
      max-height: 70vh;
    }

    .credits-section h3 {
      font-size: 1rem;
    }
  }

  /* 響應式 — 極小螢幕 */
  @media (max-width: 480px) {
    .credits-modal-content {
      margin: 5% auto;
      padding: 1.2rem;
      width: 95%;
      max-height: 80vh;
    }

    .credits-modal-content h2 {
      font-size: 1.1rem;
      margin-bottom: 1.2rem;
    }

    .credits-section {
      margin-bottom: 1rem;
      padding-bottom: 0.8rem;
    }
  }
  </style>

  <!-- Credits Modal Script -->
  <script>
  window.openCredits = function() {
    const modal = document.getElementById('credits-modal');
    modal.classList.add('active');
    document.body.style.overflow = 'hidden';
    modal.querySelector('.credits-close').focus();
  };

  window.closeCredits = function() {
    const modal = document.getElementById('credits-modal');
    modal.classList.remove('active');
    document.body.style.overflow = '';
  };

  // 點擊外部關閉 Modal
  document.getElementById('credits-modal').addEventListener('click', function(e) {
    if (e.target === this) window.closeCredits();
  });

  // ESC 關閉 Modal
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape' && document.getElementById('credits-modal').classList.contains('active')) {
      window.closeCredits();
    }
  });
  </script>

  <!-- JS Entry -->
  <script type="module" src="js/main.js"></script>
</body>
</html>
