<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5">
  <title>AIO View — Google AI Overview 監測工具｜免費檢測文章是否被 AI 摘要引用</title>
  <meta name="description" content="免費 AI Overview 監測工具，輸入 Sitemap 自動產生搜尋語句，一鍵掃描你的文章是否出現在 Google AI Overview 摘要中。支援篩選分析、CSV 匯出，掌握網站在 AI 搜尋時代的曝光表現。">
  <meta name="keywords" content="AI Overview,Google AI Overview,AIO監測,SEO工具,AI摘要,Google搜尋,網站曝光,AI Overview監測,SGE,Search Generative Experience,SEO分析,免費SEO工具">
  <link rel="canonical" href="https://lab.helloruru.com/aio-view/">

  <!-- Favicon & Icons -->
  <link rel="icon" type="image/svg+xml" href="icons/favicon.svg">
  <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon.svg">
  <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon.svg">
  <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.svg">
  <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#00f0ff">

  <!-- PWA -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#06060c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="AIO View">

  <!-- Microsoft Tile -->
  <meta name="msapplication-TileColor" content="#06060c">
  <meta name="msapplication-config" content="browserconfig.xml">

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="AIO View — 免費 Google AI Overview 監測工具">
  <meta property="og:description" content="輸入 Sitemap、掃描 Google、查看報告！免費監測你的文章是否被 AI Overview 摘要引用，掌握 AI 搜尋時代的網站曝光表現。">
  <meta property="og:image" content="https://lab.helloruru.com/aio-view/og-image.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:image:alt" content="AIO View — Google AI Overview 監測工具，免費檢測文章是否被 AI 摘要引用">
  <meta property="og:url" content="https://lab.helloruru.com/aio-view/">
  <meta property="og:site_name" content="Hello Ruru Lab">
  <meta property="og:locale" content="zh_TW">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="AIO View — 免費 Google AI Overview 監測工具">
  <meta name="twitter:description" content="輸入 Sitemap、掃描 Google、查看報告！免費監測文章是否被 AI Overview 引用，掌握 AI 搜尋曝光表現。">
  <meta name="twitter:image" content="https://lab.helloruru.com/aio-view/og-image.png">

  <!-- JSON-LD: WebApplication -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "AIO View",
    "alternateName": "AI Overview 監測工具",
    "url": "https://lab.helloruru.com/aio-view/",
    "description": "免費 Google AI Overview 監測工具，輸入 Sitemap 自動產生搜尋語句，掃描文章是否被 AI 摘要引用，支援篩選分析與 CSV 匯出。",
    "applicationCategory": "SEO Tool",
    "operatingSystem": "Web Browser",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "TWD"
    },
    "featureList": [
      "Sitemap 自動解析與文章提取",
      "智慧搜尋語句產生",
      "Google AI Overview 自動掃描",
      "引用狀態分析與篩選",
      "CSV 報告匯出",
      "掃描歷史記錄保存"
    ],
    "author": {
      "@type": "Person",
      "name": "Kaoru Tsai",
      "url": "https://lab.helloruru.com"
    },
    "inLanguage": "zh-TW"
  }
  </script>

  <!-- JSON-LD: FAQPage -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "什麼是 Google AI Overview？",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Google AI Overview（前稱 SGE）是 Google 搜尋結果頂部的 AI 生成摘要，會自動引用相關網站內容。當你的文章被引用，代表 Google AI 認為你的內容具有參考價值，能大幅提升網站曝光度。"
        }
      },
      {
        "@type": "Question",
        "name": "AIO View 是免費的嗎？",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "是的，AIO View 完全免費。網頁端的 Sitemap 解析、搜尋語句產生、結果分析與 CSV 匯出都不收費。掃描功能透過本機 CLI 工具執行，同樣免費開源。"
        }
      },
      {
        "@type": "Question",
        "name": "為什麼需要在電腦執行 CLI 工具？",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "由於瀏覽器安全限制，無法直接從網頁搜尋 Google 並讀取結果。CLI 工具使用 Playwright 瀏覽器自動化技術，在你的電腦上模擬真實搜尋，確保結果準確且不違反使用條款。每次搜尋間隔 2.5 分鐘，避免觸發 Google 的反爬機制。"
        }
      },
      {
        "@type": "Question",
        "name": "掃描 50 篇文章需要多久？",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "每篇文章間隔約 2.5 分鐘搜尋，50 篇文章約需 2 小時。建議在睡前或外出時執行，掃描過程中途可中斷，下次會從上次進度繼續，不會遺失已完成的結果。"
        }
      }
    ]
  }
  </script>

  <!-- JSON-LD: BreadcrumbList -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "Hello Ruru Lab",
        "item": "https://lab.helloruru.com"
      },
      {
        "@type": "ListItem",
        "position": 2,
        "name": "AIO View",
        "item": "https://lab.helloruru.com/aio-view/"
      }
    ]
  }
  </script>

  <!-- JSON-LD: HowTo -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "HowTo",
    "name": "如何使用 AIO View 監測文章的 AI Overview 曝光",
    "description": "透過 AIO View 監測你的網站文章是否出現在 Google AI Overview 摘要中，只需 3 個步驟。",
    "totalTime": "PT30M",
    "step": [
      {
        "@type": "HowToStep",
        "position": 1,
        "name": "貼 Sitemap + 選文章",
        "text": "輸入網站的 sitemap.xml 網址按解析，搜尋語句自動產生。勾選想監測的文章，可手動編輯語句。",
        "url": "https://lab.helloruru.com/aio-view/#input-section"
      },
      {
        "@type": "HowToStep",
        "position": 2,
        "name": "檢查 AIO",
        "text": "點「開始手動檢查」逐篇搜尋 Google，回報是否有 AI Overview。也可使用 CLI 自動掃描（進階）。",
        "url": "https://lab.helloruru.com/aio-view/#check-section"
      },
      {
        "@type": "HowToStep",
        "position": 3,
        "name": "看報告",
        "text": "查看監測結果的統計數據、圖表分析與引用來源排行，支援 CSV 匯出與歷史趨勢比較。",
        "url": "https://lab.helloruru.com/aio-view/#results-section"
      }
    ]
  }
  </script>

  <!-- Fonts: Orbitron (Display) + JetBrains Mono + Noto Sans TC -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&family=JetBrains+Mono:wght@400;500&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4/dist/chart.umd.min.js" defer></script>

  <!-- Styles -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Cyberpunk Visual Effects -->
  <div class="scanlines"></div>
  <div class="grid-bg"></div>

  <div class="app">
    <!-- Header -->
    <header class="header">
      <div class="container">
        <a href="#" class="logo-link" id="logo-link" title="回到首頁">
          <svg class="logo-icon" viewBox="0 0 32 32" fill="none">
            <defs>
              <linearGradient id="logo-bg" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#00f0ff;stop-opacity:1"/>
                <stop offset="100%" style="stop-color:#ff00aa;stop-opacity:1"/>
              </linearGradient>
            </defs>
            <circle cx="13" cy="13" r="6" stroke="url(#logo-bg)" stroke-width="2.5" fill="none"/>
            <line x1="17" y1="17" x2="24" y2="24" stroke="url(#logo-bg)" stroke-width="2.5" stroke-linecap="round"/>
            <path d="M22 8 L25 11 L29 6" fill="none" stroke="url(#logo-bg)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <h1 class="logo glitch" data-text="AIO View">AIO View</h1>
        </a>
        <p class="tagline">監測你的文章是否出現在 Google AI Overview</p>
      </div>
    </header>

    <!-- Main Content -->
    <main class="main">
      <div class="container">

        <!-- Guide: 操作流程 -->
        <section class="card guide-card" id="guide-section">
          <div class="guide-hero">
            <h2>
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
              </svg>
              OPERATION FLOW
            </h2>
            <p class="guide-subtitle">監測你的文章是否出現在 Google AI Overview</p>
          </div>

          <!-- 三步視覺流程 -->
          <div class="step-flow">
            <div class="flow-step">
              <div class="flow-num">01</div>
              <svg class="flow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/>
                <path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/>
              </svg>
              <span class="flow-label">貼 Sitemap + 選文章</span>
              <span class="flow-desc">自動產生搜尋語句</span>
            </div>

            <div class="flow-step">
              <div class="flow-num">02</div>
              <svg class="flow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <circle cx="11" cy="11" r="8"/>
                <line x1="21" y1="21" x2="16.65" y2="16.65"/>
              </svg>
              <span class="flow-label">檢查 AIO</span>
              <span class="flow-desc">手動搜尋或 CLI 掃描</span>
            </div>

            <div class="flow-step">
              <div class="flow-num">03</div>
              <svg class="flow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <line x1="18" y1="20" x2="18" y2="10"/>
                <line x1="12" y1="20" x2="12" y2="4"/>
                <line x1="6" y1="20" x2="6" y2="14"/>
              </svg>
              <span class="flow-label">看報告</span>
              <span class="flow-desc">圖表 + 時間軸分析</span>
            </div>
          </div>

          <!-- 快速提示 -->
          <div class="flow-tips">
            <span class="tip-item">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/>
              </svg>
              手動檢查免安裝
            </span>
            <span class="tip-divider"></span>
            <span class="tip-item">CLI 可自動掃描</span>
            <span class="tip-divider"></span>
            <span class="tip-item">報告自動存歷史</span>
          </div>

          <!-- 操作按鈕 -->
          <div class="flow-actions">
            <button class="btn btn-ghost btn-sm" id="guide-toggle" aria-expanded="false">
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M14.7 6.3a1 1 0 000 1.4l1.6 1.6a1 1 0 001.4 0l3.77-3.77a6 6 0 01-7.94 7.94l-6.91 6.91a2.12 2.12 0 01-3-3l6.91-6.91a6 6 0 017.94-7.94l-3.76 3.76z"/>
              </svg>
              第一次？看環境安裝
              <svg class="toggle-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="6,9 12,15 18,9"/>
              </svg>
            </button>
            <a href="guide.html" class="btn btn-secondary btn-sm" target="_blank" rel="noopener">
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"/>
                <path d="M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"/>
              </svg>
              完整操作手冊
            </a>
          </div>

          <!-- 可收合：環境安裝 -->
          <div class="setup-content" id="guide-content">
            <div class="guide-section">
              <h3>環境安裝（只需一次）</h3>
              <ol class="guide-steps">
                <li>
                  <strong>裝 Node.js</strong>
                  <p>到 <a href="https://nodejs.org/" target="_blank" rel="noopener">nodejs.org</a> 下載 LTS 版，一直按下一步。</p>
                </li>
                <li>
                  <strong>裝 Git</strong>
                  <p>到 <a href="https://git-scm.com/download/win" target="_blank" rel="noopener">git-scm.com</a> 下載，一直按下一步。</p>
                </li>
                <li>
                  <strong>下載工具</strong>
                  <p>打開 <strong>PowerShell</strong>，貼上：</p>
                  <code class="guide-code">git clone https://github.com/helloruru/helloruru.github.io.git</code>
                  <code class="guide-code">cd helloruru.github.io/aio-view/cli
npm install
npx playwright install chromium</code>
                </li>
              </ol>
            </div>
          </div>
        </section>

        <!-- Step 1: Input -->
        <section class="card" id="input-section">
          <h2>
            <span class="step-badge">1</span>
            輸入 Sitemap
          </h2>
          <div class="input-group">
            <input
              type="url"
              id="sitemap-url"
              placeholder="https://example.com/sitemap.xml"
              value="https://dailyshiru.com/sitemap.xml"
            >
            <button class="btn btn-primary" id="fetch-btn">
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                <path d="M9 12l2 2 4-4"/>
              </svg>
              解析
            </button>
          </div>
          <p class="hint" id="fetch-status"></p>
          <div class="sitemap-picker hidden" id="sitemap-picker">
            <label for="sitemap-select">選擇子 Sitemap：</label>
            <div class="input-group">
              <select id="sitemap-select" class="select-input"></select>
              <button class="btn btn-primary" id="fetch-sub-btn">載入</button>
            </div>
          </div>
        </section>

        <!-- Articles List (Step 1 continuation) -->
        <section class="card hidden" id="articles-section">
          <h2>
            文章清單
            <span class="count-badge" id="article-count">0</span>
          </h2>
          <p class="section-desc">自動產生搜尋語句，可手動編輯</p>

          <div class="article-filters hidden" id="article-filters">
            <div class="filter-row">
              <select id="filter-year" class="select-input select-sm">
                <option value="">全部年份</option>
              </select>
              <select id="filter-month" class="select-input select-sm">
                <option value="">全部月份</option>
              </select>
              <span class="filter-count" id="filter-count"></span>
            </div>
            <div class="filter-row">
              <label class="checkbox-label">
                <input type="checkbox" id="select-all"> 全選
              </label>
            </div>
          </div>

          <div class="table-wrapper">
            <table class="data-table" id="articles-table">
              <thead>
                <tr>
                  <th class="col-check"></th>
                  <th class="col-title">文章標題</th>
                  <th class="col-query">搜尋語句</th>
                </tr>
              </thead>
              <tbody id="articles-body">
                <!-- Dynamic content -->
              </tbody>
            </table>
          </div>

          <!-- AI 輔助面板 -->
          <div class="ai-assist-panel hidden" id="ai-assist-panel">
            <button class="ai-assist-header" id="ai-assist-toggle" aria-expanded="false">
              <span>
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M12 2a4 4 0 014 4v1a1 1 0 001 1h1a4 4 0 010 8h-1a1 1 0 00-1 1v1a4 4 0 01-8 0v-1a1 1 0 00-1-1H6a4 4 0 010-8h1a1 1 0 001-1V6a4 4 0 014-4z"/>
                </svg>
                AI 輔助產生搜尋語句
              </span>
              <svg class="toggle-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="6,9 12,15 18,9"/>
              </svg>
            </button>

            <div class="ai-assist-body" id="ai-assist-body">
              <!-- 模式 Tabs -->
              <div class="ai-mode-tabs">
                <button class="ai-mode-tab active" id="ai-mode-free">免費模式</button>
                <button class="ai-mode-tab" id="ai-mode-cli">API 自動模式</button>
              </div>

              <!-- 免費模式內容 -->
              <div id="ai-free-content">
                <!-- 批次導覽 -->
                <div class="batch-nav hidden" id="ai-batch-nav">
                  <span class="batch-nav-label" id="ai-batch-label"></span>
                  <div class="batch-nav-buttons" id="ai-batch-buttons"></div>
                </div>

                <!-- 提示詞 -->
                <div class="prompt-block">
                  <textarea class="prompt-text" id="ai-prompt-text" readonly rows="8"></textarea>
                  <div class="prompt-actions">
                    <button class="btn btn-primary btn-sm" id="ai-copy-prompt">
                      <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                        <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/>
                      </svg>
                      複製這批提示詞
                    </button>
                  </div>
                </div>

                <!-- 貼回區塊 -->
                <div class="paste-back-section">
                  <h4>貼回 AI 的回覆</h4>
                  <textarea class="paste-back-textarea" id="ai-paste-textarea"
                    placeholder="把 ChatGPT / Claude 的回覆貼到這裡，例如：&#10;高雄左營美食推薦 | 左營 美食&#10;鳳山夜市必吃攻略 | 鳳山 夜市 推薦" rows="6"></textarea>
                  <div class="prompt-actions">
                    <button class="btn btn-secondary btn-sm" id="ai-apply-paste">
                      <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="20 6 9 17 4 12"/>
                      </svg>
                      套用語句
                    </button>
                  </div>
                </div>

                <!-- 完整度 -->
                <div class="completeness-bar incomplete" id="ai-completeness"></div>
              </div>

              <!-- CLI API 模式內容 -->
              <div id="ai-cli-content" class="hidden">
                <div class="cli-api-hint">
                  <p>進階模式：用你的 API Key 自動產生搜尋語句。先匯出搜尋語句 JSON，再用 CLI 工具一鍵產生。</p>
                  <p style="margin-top: 8px;"><strong>步驟 1：</strong>匯出 queries.json（上方「匯出搜尋語句」按鈕）</p>
                  <p><strong>步驟 2：</strong>在 aio-view/cli 資料夾執行：</p>
                  <code># 使用 OpenAI（GPT-4o-mini，最便宜）
node ai-generate.js --input queries.json --provider openai --model gpt-4o-mini

# 或使用 Claude（Haiku，最快）
node ai-generate.js --input queries.json --provider anthropic --model claude-haiku-4-5-20251001</code>
                  <p style="margin-top: 12px;"><strong>步驟 3：</strong>產生完的 queries.json 會自動更新語句欄位，直接用來掃描即可。</p>
                  <p style="margin-top: 8px; color: var(--color-gray);">費用參考：50 篇約 NT$1-3（GPT-4o-mini）或 NT$0.5（Claude Haiku）</p>
                </div>
              </div>
            </div>
          </div>

          <div class="actions">
            <button class="btn btn-ghost" id="copy-prompt-btn">
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/>
              </svg>
              複製 AI 提示詞
            </button>
            <button class="btn btn-ghost" id="batch-edit-btn">
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"/>
                <path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"/>
              </svg>
              批次貼入語句
            </button>
            <button class="btn btn-secondary" id="export-queries-btn">
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
                <polyline points="7,10 12,15 17,10"/>
                <line x1="12" y1="15" x2="12" y2="3"/>
              </svg>
              匯出搜尋語句
            </button>
            <button class="btn btn-primary" id="generate-cli-btn">
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="4,17 10,11 4,5"/>
                <line x1="12" y1="19" x2="20" y2="19"/>
              </svg>
              產生 CLI 指令
            </button>
          </div>

          <!-- 手動檢查入口 -->
          <div class="actions" style="margin-top: 0; padding-top: var(--space-md); border-top: 1px solid var(--color-border);">
            <button class="btn btn-primary" id="start-check-btn">
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"/>
                <line x1="21" y1="21" x2="16.65" y2="16.65"/>
              </svg>
              開始手動檢查
            </button>
            <span style="font-size: 13px; color: var(--color-gray);">零安裝、零 API — 用瀏覽器直接確認 Google AI Overview</span>
          </div>
        </section>

        <!-- Step 2: Check AIO -->
        <section class="card hidden" id="check-section">
          <h2>
            <span class="step-badge">2</span>
            檢查 AIO
            <span class="count-badge" id="check-count">0/0</span>
          </h2>

          <!-- Mode Tabs -->
          <div class="check-mode-tabs" id="check-mode-tabs">
            <button class="check-mode-tab active" data-mode="manual">
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"/>
                <line x1="21" y1="21" x2="16.65" y2="16.65"/>
              </svg>
              手動檢查
            </button>
            <button class="check-mode-tab" data-mode="cli">
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="4 17 10 11 4 5"/>
                <line x1="12" y1="19" x2="20" y2="19"/>
              </svg>
              CLI 掃描（進階）
            </button>
          </div>

          <!-- Manual Check Content -->
          <div id="check-manual-content">
            <p class="section-desc">逐篇搜尋 Google，回報是否有 AI Overview</p>

            <!-- Bookmarklet 安裝區 -->
            <div class="bookmarklet-install" id="bookmarklet-install">
              <div class="bookmarklet-row">
                <span class="bookmarklet-label">自動偵測小工具:</span>
                <a href="#" class="bookmarklet-link" id="bookmarklet-link" title="拖到書籤列，在 Google 搜尋頁點一下就自動偵測 AIO"
                   onclick="event.preventDefault(); Toast.info('請把這個按鈕拖到書籤列（不是點它）');">
                  <svg class="bookmarklet-logo" viewBox="0 0 32 32" fill="none" stroke="currentColor" stroke-width="2.5">
                    <circle cx="13" cy="13" r="6"/>
                    <line x1="17" y1="17" x2="24" y2="24" stroke-linecap="round"/>
                    <path d="M22 8 L25 11 L29 6" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  AIO Check
                </a>
                <span class="bookmarklet-arrow">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M5 12h14M12 5l7 7-7 7"/>
                  </svg>
                  拖到書籤列
                </span>
              </div>
              <p class="bookmarklet-desc">
                在 Google 搜尋結果頁點書籤，自動偵測 AIO 並回傳結果
                <span class="bookmarklet-domain" id="bookmarklet-hint"></span>
              </p>
            </div>

            <!-- 篩選列 -->
            <div class="check-filter-bar" id="check-filter-bar">
              <button class="check-filter-btn active" data-filter="all">全部</button>
              <button class="check-filter-btn" data-filter="unchecked">未檢查</button>
              <button class="check-filter-btn" data-filter="cited">有引用</button>
              <button class="check-filter-btn" data-filter="aio">有 AIO</button>
              <button class="check-filter-btn" data-filter="none">沒有</button>
            </div>

            <!-- 進度條 -->
            <div class="check-progress">
              <div class="check-progress-fill" id="check-progress-fill"></div>
            </div>
            <div class="check-progress-text" id="check-progress-text">
              <span class="progress-nums">0 / 0</span>
              <span>已檢查 0%</span>
            </div>

            <!-- 卡片容器 -->
            <div class="check-cards" id="check-cards">
              <!-- 動態產生 -->
            </div>

            <!-- 操作按鈕 -->
            <div class="check-actions">
              <button class="btn btn-primary" id="check-view-report" disabled>
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="18" y1="20" x2="18" y2="10"/>
                  <line x1="12" y1="20" x2="12" y2="4"/>
                  <line x1="6" y1="20" x2="6" y2="14"/>
                </svg>
                查看報告
              </button>
            </div>
          </div>

          <!-- CLI + Upload Content (Advanced) -->
          <div id="check-cli-content" class="hidden">
            <p class="section-desc">在本機執行掃描指令，完成後上傳結果</p>

            <!-- CLI Instructions -->
            <div class="cli-block" id="cli-section">
              <h3 class="check-sub-title">
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="4 17 10 11 4 5"/>
                  <line x1="12" y1="19" x2="20" y2="19"/>
                </svg>
                CLI 指令
              </h3>
              <div class="code-block">
                <div class="code-header">
                  <span>Terminal</span>
                  <button class="btn-copy" id="copy-cli-btn">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                      <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/>
                    </svg>
                    複製
                  </button>
                </div>
                <pre id="cli-commands"></pre>
              </div>
            </div>

            <!-- Upload Results -->
            <div class="upload-block" id="upload-section">
              <h3 class="check-sub-title">
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
                  <polyline points="17,8 12,3 7,8"/>
                  <line x1="12" y1="3" x2="12" y2="15"/>
                </svg>
                上傳掃描結果
              </h3>
              <div class="upload-zone" id="upload-zone">
                <svg class="upload-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                  <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
                  <polyline points="17,8 12,3 7,8"/>
                  <line x1="12" y1="3" x2="12" y2="15"/>
                </svg>
                <p>拖曳 <code>results.json</code> 到這裡</p>
                <p class="hint">或點擊選擇檔案</p>
                <input type="file" id="file-input" accept=".json" hidden>
              </div>
            </div>
          </div>
        </section>

        <!-- Step 3: Results Dashboard -->
        <section class="card hidden" id="results-section">
          <h2>
            <span class="step-badge">3</span>
            監測結果
          </h2>

          <!-- Stats -->
          <div class="stats-grid" id="stats-grid">
            <div class="stat-card">
              <div class="stat-value" id="stat-total">0</div>
              <div class="stat-label">總文章數</div>
            </div>
            <div class="stat-card">
              <div class="stat-value" id="stat-aio">0</div>
              <div class="stat-label">有 AIO</div>
            </div>
            <div class="stat-card stat-highlight">
              <div class="stat-value" id="stat-cited">0</div>
              <div class="stat-label">被引用</div>
            </div>
            <div class="stat-card">
              <div class="stat-value" id="stat-rate">0%</div>
              <div class="stat-label">引用率</div>
            </div>
          </div>

          <!-- Charts -->
          <div class="charts-section hidden" id="charts-section">
            <h3>
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="18" y1="20" x2="18" y2="10"/>
                <line x1="12" y1="20" x2="12" y2="4"/>
                <line x1="6" y1="20" x2="6" y2="14"/>
              </svg>
              圖表分析
            </h3>
            <div class="charts-grid">
              <div class="chart-card">
                <div class="chart-card-title">AIO 狀態分佈</div>
                <div class="chart-canvas-wrap">
                  <canvas id="chart-status"></canvas>
                </div>
              </div>
              <div class="chart-card">
                <div class="chart-card-title">引用來源 Top 10</div>
                <div class="chart-canvas-wrap" style="height: 280px;">
                  <canvas id="chart-sources"></canvas>
                </div>
                <div class="source-list" id="sources-list"></div>
              </div>
            </div>
          </div>

          <!-- Filter -->
          <div class="filter-bar">
            <button class="filter-btn active" data-filter="all">全部</button>
            <button class="filter-btn" data-filter="cited">被引用</button>
            <button class="filter-btn" data-filter="aio-not-cited">有 AIO 未引用</button>
            <button class="filter-btn" data-filter="no-aio">無 AIO</button>
          </div>

          <!-- Results Table -->
          <div class="table-wrapper">
            <table class="data-table" id="results-table">
              <thead>
                <tr>
                  <th class="col-title">文章</th>
                  <th class="col-query">搜尋語句</th>
                  <th class="col-status">AIO 狀態</th>
                  <th class="col-cited">被引用</th>
                </tr>
              </thead>
              <tbody id="results-body">
                <!-- Dynamic content -->
              </tbody>
            </table>
          </div>

          <!-- Export -->
          <div class="actions">
            <button class="btn btn-secondary" id="export-csv-btn">
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/>
                <polyline points="14,2 14,8 20,8"/>
                <line x1="16" y1="13" x2="8" y2="13"/>
                <line x1="16" y1="17" x2="8" y2="17"/>
              </svg>
              匯出 CSV
            </button>
          </div>
        </section>

        <!-- Timeline: 時間軸報告 -->
        <section class="card hidden" id="timeline-section">
          <div class="timeline-section">
            <h3>
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>
              </svg>
              歷史趨勢
            </h3>

            <!-- 趨勢折線圖 -->
            <div class="trend-chart-wrap">
              <canvas id="chart-trend"></canvas>
            </div>

            <!-- 對比 -->
            <div class="compare-bar hidden" id="timeline-compare-bar">
              <span class="compare-label">對比：</span>
              <select class="compare-select" id="compare-date-1"></select>
              <span class="compare-label">vs</span>
              <select class="compare-select" id="compare-date-2"></select>
              <button class="btn btn-sm btn-secondary" id="timeline-compare-btn">比較</button>
            </div>
            <div class="compare-results hidden" id="compare-results"></div>

            <!-- 歷史記錄清單 -->
            <div class="history-list" id="history-list"></div>
          </div>
        </section>

      </div>
    </main>

    <!-- Batch Query Editor Modal -->
    <div class="modal-overlay hidden" id="query-editor-modal">
      <div class="modal-card">
        <div class="modal-header">
          <h3>批次貼入搜尋語句</h3>
          <button class="btn-close" id="modal-close-btn">
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="18" y1="6" x2="6" y2="18"/>
              <line x1="6" y1="6" x2="18" y2="18"/>
            </svg>
          </button>
        </div>
        <div class="modal-body">
          <p class="section-desc">貼上 AI 產生的語句（每行格式：文章標題 | 搜尋語句）</p>
          <textarea id="batch-query-input" class="textarea-input" rows="10" placeholder="高雄左營美食推薦 | 左營 美食&#10;鳳山夜市必吃 | 鳳山 夜市 推薦"></textarea>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" id="modal-cancel-btn">取消</button>
          <button class="btn btn-primary" id="modal-apply-btn">套用</button>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="site-footer">
      <p>© <span id="footer-year"></span> Kaoru Tsai. All Rights Reserved. | Contact: <a href="mailto:hello@helloruru.com">hello@helloruru.com</a></p>
    </footer>
  </div>

  <!-- Scripts: Modules (載入順序很重要) -->
  <script src="js/modules/utils.js"></script>
  <script src="js/modules/toast.js"></script>
  <script src="js/modules/storage.js"></script>
  <script src="js/modules/query-engine.js"></script>
  <script src="js/modules/sitemap.js"></script>
  <script src="js/modules/db.js"></script>

  <!-- Scripts: Components -->
  <script src="js/components/guide.js"></script>
  <script src="js/components/stats.js"></script>
  <script src="js/components/articles-table.js"></script>
  <script src="js/components/results-table.js"></script>
  <script src="js/components/file-upload.js"></script>
  <script src="js/components/cli-generator.js"></script>
  <script src="js/components/sitemap-input.js"></script>
  <script src="js/components/ai-assist.js"></script>
  <script src="js/components/manual-check.js"></script>
  <script src="js/components/charts.js"></script>
  <script src="js/components/timeline.js"></script>

  <!-- Scripts: Main Entry -->
  <script src="js/main.js"></script>
  <script>
    const startYear = 2026;
    const currentYear = new Date().getFullYear();
    document.getElementById('footer-year').textContent =
      currentYear > startYear ? `${startYear}–${currentYear}` : `${startYear}`;
  </script>
</body>
</html>
